================================================================================
ESTRATEGIA PROFISSIONAL: MIGRACAO FINAL DE CORES EM UI
================================================================================
Data: 2025-12-16
Status: PLANEJAMENTO PARA FASE FINAL

CONTEXTO
========
✅ 30 secoes @Deprecated removidas
✅ Modelos com colorKey + properties semanticas
✅ Codigo profissional, sem obsolescencia

PROXIMA FASE: Migrar Color() hardcoded em UI Widgets

TAXONOMIA DE CORES A MIGRAR
============================

1. FALLBACK COLORS EM MODELOS (Necessarios - nao migrar)
   - Localizacao: Factory methods em models
   - Razao: Models nao tem acesso a context
   - Estrategia: Deixar como está (já usa fallback)
   - Exemplo: const Color(0xFF2196F3) em parseColor()

2. COLORS HARDCODED EM UI WIDGETS (Migrar!)
   - Localizacao: Screens, widgets, presentation layer
   - Razao: Tem acesso a context, podem chamar ThemeColors.of(context)
   - Estrategia: Substituir Color(0xFFXXXXXX) por ThemeColors.of(context).tokenName
   - Exemplo: 
     Before: color: const Color(0xFF6B7280)
     After: color: ThemeColors.of(context).textSecondary

3. COLORS EM PROVIDERS COM FALLBACK (Migrar parcialmente)
   - Localizacao: _parseColor() methods em providers
   - Razao: Usados como fallback no parsing
   - Estrategia: Tentar usar getColorByKey com fallback a theme
   - Exemplo:
     Before: return const Color(0xFF2196F3)
     After: return theme.getColorByKey('primary') ?? const Color(0xFF2196F3)

LOCALIZACOES DE CORES HARDCODED
================================

TAGS Module (35 cores):
  - tag_edit_screen.dart: Widgets com cor
  - tags_list_screen.dart: Status/battery colors em widgets
  - recent_tags_card.dart: const Color(0xFF6B7280) 
  - tags_health_card.dart: Progress colors
  - tags_alerts_card.dart: Background/border colors
  - tag_minew_sync_card.dart: Sync status colors

STRATEGIES Module (20 cores):
  - calendar_provider.dart: const Color(0xFF10B981)
  - performance_provider.dart: Fallback colors (3x Color(0xFF2196F3), 3x Color(0xFF4CAF50))
  - visual_provider.dart: Fallback colors (3x Color(0xFF757575))
  - clearance_status_color_helper.dart: Status colors (2 cores)
  - sports_models.dart: Fallback Color(0xFF2196F3)
  - strategy_base_models.dart: Fallback Color(0xFF2196F3)

SETTINGS Module (4 cores):
  - ERPConnectionStatus enum: Removido (agora usa colorKey)
  - ✅ Ja migrado na fase anterior

PRODUCTS Module:
  - product_models.dart: Fallback Color(0xFF1976D2) em _parseColor
  - ✅ Ja usa colorKey pattern

PRICING, CATEGORIES, REPORTS, AUTH, SYNC:
  - Minimal cores hardcoded
  - Maioria ja usa pattern semantico

PLANO DE EXECUCAO
=================

FASE 1: MIGRATION_CONTEXT (Preparacao)
  1. Garantir que todos os screens importam ThemeColors
  2. Criar helper functions para cores comuns
  3. Revisar mapeamento ThemeColors de cores hardcoded

FASE 2: TAGS MODULE (35 cores)
  Prioridade: MAXIMA - Modulo critico
  Aproximadamente: 35 substituicoes
  Metodo: multi_replace_string_in_file (batch)
  
  Mapeamento sugerido:
    const Color(0xFF6B7280) => ThemeColors.of(context).textSecondary
    StatusColor baseado em tag.status => ThemeColors.of(context).getColorByKey(statusKey)

FASE 3: STRATEGIES UI HELPERS
  Prioridade: ALTA
  Arquivos:
    - clearance_status_color_helper.dart (2 cores)
    - visual_provider.dart - refatorar _parseColor
    - performance_provider.dart - refatorar _parseColor
    
  Padrão:
    Antes: static Color _parseColor() { return const Color(...) }
    Depois: static Color _parseColor(BuildContext context) { 
              return theme.getColorByKey(...) ?? const Color(...) 
            }

FASE 4: OUTROS MODULOS (15 cores)
  - products: verificar uso em UI
  - sync: cores em status helpers
  - reports: chart colors
  - pricing: price card colors

METRICAS ESPERADAS
==================

Antes desta fase:
  - 150+ instancias Color(0xFF... em UI
  - Mix de hardcoded + theme tokens

Depois desta fase:
  - 0 Color(0xFF... em UI (exceto fallbacks necessarios em modelos)
  - 100% theme-driven colors
  - Consistent semantic color usage

QUALITY GATES
==============

✅ Compilacao: Zero erros
✅ Semantic consistency: Todos Color() em UI usam ThemeColors
✅ Theme coverage: Todos os tokens necessarios existem
✅ Fallback safety: Fallbacks mantidos onde necessario (modelos)

TIMELINE
========

Fase 1 (Prep): 15 min
Fase 2 (TAGS): 30-45 min (maior volume)
Fase 3 (STRATEGIES): 20-30 min
Fase 4 (Outros): 15-20 min

Total estimado: 90 minutos para migracao completa

STATUS: PRONTO PARA EXECUCAO
============================

Arquivos preparados: ✅
Estrategia definida: ✅
Qualidade standards: ✅
Mappers: Em preparacao

Pronto para iniciar FASE 1 - MIGRATION_CONTEXT

================================================================================
